<!DOCTYPE html>
<html>

<head>
    <!-- Plotly graph library -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- For Pubnub spline -->
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.19.0.js"></script>
    <script type="text/javascript" src="http://pubnub.github.io/eon/v/eon/1.0.0/eon.js"></script>
    <link type="text/css" rel="stylesheet" href="http://pubnub.github.io/eon/v/eon/1.0.0/eon.css" />
    <!-- Stylesheets -->
    <link rel="stylesheet" href="style.css">
    <style>
    </style>
</head>

<!--======== HTML =================-->

<body>
    <!-- Source: https://weatherwidget.io/ -->
    <div id="weather">
        <a class="weatherwidget-io" href="https://forecast7.com/en/n40d15175d49/halcombe/" data-label_1="REUREU VALLEY" data-label_2="WEATHER"
            data-font="Roboto" data-icons="Climacons Animated" data-theme="original" data-basecolor="">REUREU VALLEY WEATHER</a>
        <script>
            ! function (d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (!d.getElementById(id)) {
                    js = d.createElement(s);
                    js.id = id;
                    js.src = 'https://weatherwidget.io/js/widget.min.js';
                    fjs.parentNode.insertBefore(js, fjs);
                }
            }(document, 'script', 'weatherwidget-io-js');
        </script>
    </div>

    <div id="computedTempHum">
        <div class="computedLabel">Real-time Median</div>
        <div class="computedValuesBox">
            <table>
                <tr>
                    <td class="computedIcons">
                        <div>
                            <img src="./assets/thermometer.png">
                        </div>
                    </td>
                    <td class="computedValues">
                        <div id="medianTempValue"></div>
                    </td>
                    <td class="computedIcons">
                        <div>
                            <img src="./assets/humidity.png">
                        </div>
                    </td>
                    <td class="computedValues">
                        <div id="medianHumValue"></div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="computedLabel">Real-time Average</div>
        <div class="computedValuesBox">
            <table>
                <tr>
                    <td class="computedIcons">
                        <div>
                            <img src="./assets/thermometer.png">
                        </div>
                    </td>
                    <td class="computedValues">
                        <div id="averageTempValue"></div>
                    </td>
                    <td class="computedIcons">
                        <div>
                            <img src="./assets/humidity.png">
                        </div>
                    </td>
                    <td class="computedValues">
                        <div id="averageHumValue"></div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div id="map"></div>

    <div class="slideInDiv">
        <div class="icons">
            <div class="icon">
                <img src="./assets/thermometer.png" id="tempIcon" width="40" />
                <p class="iconTitle" id="tempTitle">TEMP / HUM</p>
            </div>
            <div class="icon">
                <img src="./assets/tap.svg" id="waterIcon" width="40" />
                <p class="iconTitle" id="waterTitle">WATER</p>
            </div>
            <div class="icon">
                <img src="./assets/electric.svg" id="fenceIcon" width="40" />
                <p class="iconTitle" id="fenceTitle">ELECTRIC FENCE</p>
            </div>
            <div class="icon">
                <img src="./assets/gate.svg" id="gateIcon" width="40" />
                <p class="iconTitle" id="gateTitle">GATES</p>
            </div>
            <!--<div class="icon">
                <img src="./assets/weather.svg" id="weatherIcon" width="40" />
                <p class="iconTitle" id="weatherTitle">WEATHER</p>
            </div>-->

        </div>
        <div id="slideInInner">
            <div class="flexContainer">
                <p class="splineTitles">Temperature Heatmap</p>
                <img src="./assets/mocked-heatmap.png" width="100%" />
                <!-- <div class="flexRight">
                    <p class="splineTitles">Temperature (&deg;C)</p>
                    <div id="temperature-spline"></div>
                </div>
                <div class="flexLeft">
                    <p class="splineTitles">Humidty (%)</p>
                    <div id="humidity-spline"></div>
                </div> -->
            </div>
        </div>
    </div>

    <div id="splineButtonDiv">
        <button id="splineButton">SHOW HISTORY</button>
    </div>

    <img id="ioa" src="./assets/ioa.svg">

    <!--======== SCRIPTS =================-->

    <script src="functions.js"></script>

    <script src="initData.js"></script>

    <script src="initMap.js"></script>

    <!-- <script src="pubNubSpline.js"></script> -->

    <script>
        //================ Button toggle slide in spline
        //clicking the 'show history button' adds the .slideOpen class to the body.
        document.querySelector("#splineButton").addEventListener("click", function () {
            const el = document.getElementsByTagName("body")[0];
            el.classList.toggle("slideOpen");
        });
    </script>


    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCA4KEFZfbeZhUwtpYfm-__hkTrIuwfyPs&callback=initMap">
    </script>
</body>



</html>